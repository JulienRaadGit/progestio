// Effet de parallaxe pour le fond d'écran
window.addEventListener('scroll', function() {
    const scrollPosition = window.pageYOffset;
    // Ajustez cette valeur pour modifier la vitesse de défilement (plus petit = plus lent)
    const parallaxSpeed = -0.1;
    
    // Application de l'effet de parallaxe
    document.body.style.setProperty('--parallax-offset', `${scrollPosition * parallaxSpeed}px`);
    
    // Si on utilise la méthode directe sur body, on peut aussi utiliser:
    // document.body.style.backgroundPositionY = `calc(50% + ${scrollPosition * parallaxSpeed}px)`;
});

// Header scroll effect
window.addEventListener('scroll', function() {
    const header = document.getElementById('header');
    if (header) {
        if (window.scrollY > 50) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    }
});

// Fonction pour charger des contenus HTML externes
function includeHTML(file, elementId) {
    const element = document.getElementById(elementId);
    if (element) {
        fetch(file)
            .then(response => response.text())
            .then(data => {
                element.innerHTML = data;
            })
            .catch(error => console.error('Erreur lors du chargement du fichier ' + file + ': ', error));
    }
}

// Fonction d'initialisation pour toutes les pages
function initializePageComponents() {
    // Charger le header et le footer
    includeHTML('header.html', 'header-placeholder');
    includeHTML('footer.html', 'footer-placeholder');
    
    // Mobile menu toggle
    const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
    const navbar = document.getElementById('navbar');
    
    if (mobileMenuBtn && navbar) {
        mobileMenuBtn.addEventListener('click', function() {
            navbar.classList.toggle('active');
        });
    }
    
    // Smooth scroll pour la page d'accueil
    const scrollDown = document.getElementById('scrollDown');
    if (scrollDown) {
        scrollDown.addEventListener('click', function() {
            document.getElementById('hero').scrollIntoView({ behavior: 'smooth' });
        });
    }
    
    const heroScrollDown = document.getElementById('heroScrollDown');
    if (heroScrollDown) {
        heroScrollDown.addEventListener('click', function() {
            document.getElementById('about').scrollIntoView({ behavior: 'smooth' });
        });
    }
    
    // Form submission
    const contactForm = document.getElementById('contactForm');
    if (contactForm) {
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Merci pour votre message ! Nous vous contacterons bientôt.');
            this.reset();
        });
    }
}

// Exécuter l'initialisation lorsque le DOM est chargé
document.addEventListener('DOMContentLoaded', initializePageComponents);
